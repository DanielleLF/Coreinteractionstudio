<!DOCTYPE html>
<html>
<head>
	<title>Events In Washington DC</title>
	<link href="style.css" rel="stylesheet" type="text/css">
	<script defer src="https://use.fontawesome.com/releases/v5.0.6/js/all.js"> </script>


</head>
<body>


<section class="star-grid">

<div class="title_nav-wrapper">
	<div class="title_nav"> 
		<h2> Washington </h2>
		<div class="star"></div>
		<h1>DC</h1> 
		<h3>Events</h3>


<div class="search-box">
	
	 <input class="search-txt" type="text" name="" placeholder="Type to search"> 
	<a class="search-btn" href="#">
<i class="fas fa-search"></i> 
	</a>
	</div>
</div>
</div>




<!-- stars -->

<div class="g-star-1">
<div class="star1"><img src="images/bw_Cherrytree.jpg"></div>
<h4> <a href="NF/NAindex.html" style="text-decoration: none; color:#1F2B5F;" >National Festival</a></h4>
</div>

<div class="g-star-2">
<div class="star2"><img src="images/bw_Art.jpg">
</div>
<h4> <a href="Art/Artindex.html" style="text-decoration: none; color:#1F2B5F;" >Art</a> </h4>
</div>

<div class="g-star-3">
<div class="star3"><img src="images/bw_PA.jpg"></div>
<h4> <a href="PA/PAindex.html" style="text-decoration: none; color:#1F2B5F;" >Performing Arts</a> </h4>
</div>

<div class="g-star-4">
<div class="star4"><img src="images/bw_DN.jpg"></div>
<h4> <a href="DN/DNindex.html" style="text-decoration: none; color:#1F2B5F;" >Date Night</a> </h4>
</div>

<div class="g-star-5">
<div class="star5"><img src="images/bw_mos.png"></div>
<h4> <a href="MO/MOindex.html" style="text-decoration: none; color:#1F2B5F;" >Monuments</a></h4>
</div>

<div class="g-star-6">
<div class="star6"><img src="images/bw_MU.jpg"></div>
<h4> <a href="MU/MUindex.html" style="text-decoration: none; color:#1F2B5F;" >Museums</a></h4>
</div>




</section>



<script> 

	// functions to search and update data
function listenSearch(data) {
	search.onchange=function() {
		// console.log(data)
		searchterms = document.querySelector('#search_input').value
		searchterms = searchterms.toLowerCase();
		searchterms = searchterms.split(',')
		// console.log(searchterms)
		updateData(searchterms, data)
		document.body.style.zoom = 1.0;
	}
	 search.addEventListener("keyup", function(event) {
      event.preventDefault();
      if (event.keyCode === 13) {
      	updateData(searchterms, data)
      	document.body.style.zoom = 1.0;
      }
    });

}

function updateData(searchterms, data){
	updatedData= []
	for(i=0;i<searchterms.length;i++){
		results1 = data.filter(function(d){
		// filter by the different fields I want (name, brand, type)
			return d.name.toLowerCase().includes(searchterms[i])
		})

		results2 = data.filter(function(d){
			return d.brand.toLowerCase().includes(searchterms[i])
		})
		results3= results1.concat(results2)

		results4 = data.filter(function(d){
			return d.type.toLowerCase().includes(searchterms[i])
		})
		results5 = results3.concat(results4)
		// get only the unique results
		results5 = results5.filter(onlyUnique);
		updatedData.push(results5)
	}
	console.log(updatedData)
	clear('main')
	viewData(updatedData[0], 'main')
}

</script>



</body>
</html>